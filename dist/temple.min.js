!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.Temple=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(){this.children=[],this.parent=null,f.defineComputedProperties(this,f.pick(this,g)),f.toArray(arguments).forEach(this.appendChild,this)}var d=a("./events"),e=a("./deps"),f=a("./util"),g=["isRoot","hasChildren","firstChild","lastChild","nextSibling","previousSibling","parentNode","firstNode","nextSiblingNode"];b.exports=c,c.extend=f.subclass,c.isBinding=function(a){return a instanceof c},f.extend(c.prototype,d,{use:function(a){var b=f.toArray(arguments).slice(1);return a.apply(this,b),this},insertBefore:function(a,b){if("string"==typeof a&&(a=new c.Text(a)),!c.isBinding(a))throw new Error("Expecting child to be a binding.");if(a===this)throw new Error("Cannot add binding as a child of itself.");var d,e=this.children.length,f=a.parent;if(null!=b){if(!c.isBinding(b))throw new Error("Expecting before child to be a binding.");if(e=this.indexOf(b),!~e)throw new Error("Before binding is not a child of this binding.");if(b===a)throw new Error("Cannot add child before itself.");if(b.previousSibling===a)return a}if(f===this){if(d=this.indexOf(a),d===e-1)return a;this.children.splice(d,1),e=null!=b?this.indexOf(b):this.children.length}else null!=f&&(f.children.splice(f.indexOf(a),1),a.parent=null,f.trigger("child:remove",a));return this.children.splice(e,0,a),a.parent=this,f===this?this.trigger("child:move",a):(this.trigger("child:add",a),a.trigger("parent",this,f)),a.updateNodes(),a},appendChild:function(a){return this.insertBefore(a)},removeChild:function(a){var b=this.indexOf(a);if(~b){for(;b>-1;)this.children.splice(b,1),b=this.indexOf(a,b);return a.parent=null,this.trigger("child:remove",a),a.trigger("parent",null,this),a.updateNodes(),a}},contains:function(a){return this.indexOf(a)>-1},indexOf:function(a){return this.children.indexOf(a)},firstChild:function(){return this.children[0]||null},lastChild:function(){var a=this.children.length;return a?this.children[a-1]:null},nextSibling:function(){if(this.isRoot)return null;var a=this.parent.indexOf(this),b=this.parent.children;return a>-1&&a<b.length-1?b[a+1]:null},previousSibling:function(){if(this.isRoot)return null;var a=this.parent.indexOf(this),b=this.parent.children;return a>0&&a<b.length?b[a-1]:null},hasChildren:function(){return this.children.length>0},isRoot:function(){return null==this.parent},updateNodes:function(){for(var a=this.children.length-1;a>=0;a--)this.children[a].updateNodes();return this.trigger("update"),this},toNodes:function(){return this.children.reduce(function(a,b){return a.push.apply(a,b.toNodes()),a},[])},parentNode:function(){if(this.isRoot)return null!=this.placeholder?this.placeholder.parentNode:null;for(var a=this.parent;null!=a;){if(a instanceof c.Node)return a.node;if(a.isRoot)return a.parentNode;a=a.parent}return null},firstNode:function(){var a=this.firstChild;return null!=a?a.firstNode:null},nextSiblingNode:function(){if(this.isRoot)return null!=this.placeholder?this.placeholder:null;var a=this.nextSibling;return null!=a?a.firstNode:this.parent instanceof c.Node?null:this.parent.nextSiblingNode},find:function(a){var b,c;for(c in this.children)if(b=this.children[c].find(a),null!=b)return b;return null},findAll:function(a){return this.children.reduce(function(b,c){return b.push.apply(b,c.findAll(a)),b},[])},paint:function(a,b){return"string"==typeof a&&(a=document.querySelector(a)),"string"==typeof b&&(b=a.querySelector(b)),null==a&&(a=document.createDocumentFragment()),null==this.placeholder&&(this.placeholder=document.createComment(f.uniqueId("$"))),a.insertBefore(this.placeholder,b),this.updateNodes(),this.trigger("paint",a,b),this},detach:function(){return null!=this.placeholder&&this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder),this.updateNodes(),this.trigger("detach"),this},autorun:function(a,b){var c=e.autorun(a,this);return b&&!e.active&&c.stop(),c},toString:function(){return this.children.map(function(a){return a.toString()}).join("")}}),c.prototype.hasChild=c.prototype.contains,c.prototype.toHTML=c.prototype.toString,f.extend(c,a("./node")),c.HTML=a("./html"),c.React=a("./react")},{"./deps":2,"./events":3,"./html":4,"./node":6,"./react":7,"./util":8}],2:[function(a,b){var c=b.exports={};c.active=!1,c.currentComputation=null;var d=function(a){c.currentComputation=a,c.active=!!a},e=function(){return"undefined"!=typeof Meteor?Meteor._debug:"undefined"!=typeof console&&console.log?function(){console.log.apply(console,arguments)}:function(){}},f=function(a,b){if(m)throw b;e()("Exception from Deps "+a+" function:",b.stack||b.message)},g=function(a){return"undefined"==typeof Meteor||Meteor.isClient?a:function(){var b=arguments;Meteor._noYieldsAllowed(function(){a.apply(null,b)})}},h=1,i=[],j=!1,k=!1,l=!1,m=!1,n=[],o=function(){j||(setTimeout(c.flush,0),j=!0)},p=!1;c.Computation=function(a,b,c){if(!p)throw new Error("Deps.Computation constructor is private; use Deps.autorun");p=!1;var d=this;d.stopped=!1,d.invalidated=!1,d.firstRun=!0,d._id=h++,d._onInvalidateCallbacks=[],d._parent=b,d._func=a,d._context=c||this,d._recomputing=!1;var e=!0;try{d._compute(),e=!1}finally{d.firstRun=!1,e&&d.stop()}},c.Computation.prototype.onInvalidate=function(a,b){var d=this;if("function"!=typeof a)throw new Error("onInvalidate requires a function");d.invalidated?c.nonreactive(function(){g(a).call(b||d._context,d)}):(a._context=b,d._onInvalidateCallbacks.push(a))},c.Computation.prototype.invalidate=function(){var a=this;if(!a.invalidated){a._recomputing||a.stopped||(o(),i.push(this)),a.invalidated=!0;for(var b,d=0;b=a._onInvalidateCallbacks[d];d++)c.nonreactive(function(){g(b).call(b._context||a._context,a)});a._onInvalidateCallbacks=[]}},c.Computation.prototype.stop=function(){this.stopped||(this.stopped=!0,this.invalidate())},c.Computation.prototype._compute=function(){var a=this;a.invalidated=!1;var b=c.currentComputation;d(a);l=!0;try{g(a._func).call(a._context,a)}finally{d(b),l=!1}},c.Computation.prototype._recompute=function(){var a=this;a._recomputing=!0;try{for(;a.invalidated&&!a.stopped;)try{a._compute()}catch(b){f("recompute",b)}}finally{a._recomputing=!1}},c.Dependency=function(){this._dependentsById={}},c.Dependency.prototype.depend=function(a){if(!a){if(!c.active)return!1;a=c.currentComputation}var b=this,d=a._id;return d in b._dependentsById?!1:(b._dependentsById[d]=a,a.onInvalidate(function(){delete b._dependentsById[d]}),!0)},c.Dependency.prototype.changed=function(){var a=this;for(var b in a._dependentsById)a._dependentsById[b].invalidate()},c.Dependency.prototype.hasDependents=function(){var a=this;for(var b in a._dependentsById)return!0;return!1},c.flush=function(a){if(k)throw new Error("Can't call Deps.flush while flushing");if(l)throw new Error("Can't flush inside Deps.autorun");k=!0,j=!0,m=!(!a||!a._throwFirstError);var b=!1;try{for(;i.length||n.length;){for(;i.length;){var d=i.shift();d._recompute()}if(n.length){var e=n.shift();try{e.call(e._context)}catch(g){f("afterFlush function",g)}}}b=!0}finally{b||(k=!1,c.flush({_throwFirstError:!1})),j=!1,k=!1}},c.autorun=function(a,b){if("function"!=typeof a)throw new Error("Deps.autorun requires a function argument");p=!0;var d=new c.Computation(a,c.currentComputation,b);return c.active&&c.onInvalidate(function(){d.stop()}),d},c.nonreactive=function(a,b){var e=c.currentComputation;d(null);try{return a.call(b)}finally{d(e)}},c.nonreactable=function(a,b){return function(){return c.nonreactive(a,b||this)}},c.onInvalidate=function(a,b){if(!c.active)throw new Error("Deps.onInvalidate requires a currentComputation");c.currentComputation.onInvalidate(a,b)},c.afterFlush=function(a,b){a._context=b,n.push(a),o()}},{}],3:[function(a,b){function c(a){if(null==a)return!0;if(Array.isArray(a)||"string"==typeof a)return 0===a.length;for(var b in a)if(e.has(a,b))return!1;return!0}function d(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}}var e=a("./util"),f=b.exports={on:function(a,b,c){if(!h(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!h(this,"once",a,[b,c])||!b)return this;var e=this,f=d(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,c)},off:function(a,b,c){var d,e,f,g,i,j,k,l;if(!this._events||!h(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events=void 0,this;for(g=a?[a]:Object.keys(this._events),i=0,j=g.length;j>i;i++)if(a=g[i],f=this._events[a]){if(this._events[a]=d=[],b||c)for(k=0,l=f.length;l>k;k++)e=f[k],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=Array.prototype.slice.call(arguments,1);if(!h(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&i(c,b),d&&i(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c(a._events))&&delete this._listeningTo[g];return this}},g=/\s+/,h=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(g.test(c)){for(var f=c.split(g),h=0,i=f.length;i>h;h++)a[b].apply(a,[f[h]].concat(d));return!1}return!0},i=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},j={listenTo:"on",listenToOnce:"once"};e.each(j,function(a,b){f[b]=function(b,c,d){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=e.uniqueId("l"));return f[g]=b,d||"object"!=typeof c||(d=this),b[a](c,d,this),this}}),f.bind=f.on,f.unbind=f.off},{"./util":8}],4:[function(a,b){var c=a("./binding"),d=a("./util");b.exports=c.extend({constructor:function(a){c.call(this),this.nodes=[],this.setValue(a)},insertBefore:function(){throw new Error("HTML bindings can't have children.")},updateNodes:function(){var a,b,c,e=this.parentNode;if(null!=e)for(a=this.nextSiblingNode,c=this.nodes.length-1;c>=0;c--)b=this.nodes[c],d.isNodeAtDOMPosition(b,e,a)||e.insertBefore(b,a),a=b;else this.removeNodes();return this.trigger("update"),this},removeNodes:function(){var a,b;for(b=0;b<this.nodes.length;b++)a=this.nodes[b],null!=a.parentNode&&a.parentNode.removeChild(a);return this},setValue:function(a){return a=null!=a?a.toString():"",a===this.value?this:(this.removeNodes(),this.value=a,div=document.createElement("div"),div.innerHTML=a,this.nodes=d.toArray(div.childNodes),this.updateNodes(),this)},toNodes:function(){return this.nodes.slice(0)},firstNode:function(){return this.nodes[0]||null},find:function(a){var b,c,e;for(b in this.nodes)if(c=this.nodes[b],1===c.nodeType){if(d.matchesSelector(c,a))return c;if(e=c.querySelector(a),null!=e)return e}return null},findAll:function(a){var b,c,e=[];for(b in this.nodes)c=this.nodes[b],1===c.nodeType&&(d.matchesSelector(c,a)&&matches.push(c),e.push.apply(e,d.toArray(c.querySelectorAll(a))));return e},toString:function(){return this.nodes.map(function(a){return 1===a.nodeType?a.outerHTML:a.nodeValue}).join("")}})},{"./binding":1,"./util":8}],5:[function(a,b){var c=a("./binding"),d=a("./util"),e=b.exports=c;e.VERSION="0.3.1",e.util=d,e.Events=a("./events");var f=e.Deps=a("./deps");e.autorun=f.autorun,e.Dependency=f.Dependency},{"./binding":1,"./deps":2,"./events":3,"./util":8}],6:[function(a,b,c){var d=a("./binding"),e=a("./util"),f=c.Node=d.extend({updateNodes:function(){var a=this.parentNode,b=this.nextSiblingNode;return null==a||e.isNodeAtDOMPosition(this.node,a,b)?null==a&&null!=this.node.parentNode&&this.node.parentNode.removeChild(this.node):a.insertBefore(this.node,b),this.trigger("update"),this},toNodes:function(){return[this.node]},firstNode:function(){return this.node},find:function(){return null},findAll:function(){return[]}}),g=c.Text=f.extend({constructor:function(a){a instanceof window.Node&&3===a.nodeType?(this.node=a,this.value=a.nodeValue):(this.node=document.createTextNode(""),this.setValue(a)),f.call(this)},insertBefore:function(){throw new Error("Text bindings can't have children.")},setValue:function(a){return a=null!=a?a.toString():"",a!==this.node.nodeValue&&(this.node.nodeValue=a),this.value=a,this},toString:function(){return this.node.nodeValue}}),h=c.Element=f.extend({constructor:function(a){var b=e.toArray(arguments).slice(1);if(a instanceof window.Node&&1===a.nodeType)this.node=a,this.tagname=a.tagName.toLowerCase(),i(e.toArray(a.childNodes)).forEach(function(a){b.push(a)});else{if("string"!=typeof a)throw new Error("Expecting string for element tag name.");this.tagname=a,this.node=document.createElement(a)}f.apply(this,b)},getAttribute:function(a){return this.node.getAttribute(a)},setAttribute:function(a,b){return this.node.setAttribute(a,b),this},removeAttribute:function(a){return this.node.removeAttribute(a),this},attr:function(a,b){return e.isObject(a)&&null==b?(e.each(a,function(a,b){this.attr(b,a)},this),this):"undefined"==typeof b?this.getAttribute(a):(this.setAttribute(a,b),this)},prop:function(a,b){return e.isObject(a)&&null==b?(e.each(a,function(a,b){this.prop(b,a)},this),this):"undefined"==typeof b?this.node[a]:(this.node[a]=b,this)},style:function(a,b){return e.isObject(a)&&null==b?(e.each(a,function(a,b){this.style(b,a)},this),this):"undefined"==typeof b?getComputedStyle(this.node)[a]:(this.node.style[a]=b,this)},hasClass:function(a){return this.node.classList.contains(a)},addClass:function(){return e.flatten(e.toArray(arguments)).forEach(function(a){this.node.classList.add(a)},this),this},removeClass:function(){return e.flatten(e.toArray(arguments)).forEach(function(a){this.node.classList.remove(a)},this),this},addEventListener:function(a,b){return e.isObject(a)&&null==b?(e.each(a,function(a,b){this.addEventListener(b,a)},this),this):(this.node.addEventListener(a,b),this)},removeEventListener:function(a,b){return e.isObject(a)&&null==b?(e.each(a,function(a,b){this.removeEventListener(b,a)},this),this):(this.node.removeEventListener(a,b),this)},find:function(a){return e.matchesSelector(this.node,a)?this.node:this.node.querySelector(a)},findAll:function(a){var b=[];return e.matchesSelector(this.node,a)&&b.push(this.node),b.push.apply(b,e.toArray(this.node.querySelectorAll(a))),b},toString:function(){return this.node.outerHTML}});c.DOM={},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"].forEach(function(a){c.DOM[a]=h.extend({constructor:function(){var b=e.toArray(arguments);b.unshift(a),h.apply(this,b)}})});var i=c.wrapNode=function(a){if(Array.isArray(a))return a.map(i).filter(function(a){return null!=a});switch(a.nodeType){case 1:return new h(a);case 3:return new g(a);case 11:var b=new d;return i(e.toArray(a.childNodes)).forEach(b.appendChild,b),b}};c.parseHTML=function(a){var b=document.createElement("div"),c=new d;return b.innerHTML=a,i(e.toArray(b.childNodes)).forEach(c.appendChild,c),c}},{"./binding":1,"./util":8}],7:[function(a,b){function c(a,b){return function(){return"function"==typeof a[b]?a[b].apply(a,arguments):void 0}}var d=a("./binding"),e=a("./util");b.exports=d.extend({constructor:function(){["mount","render","invalidate"].forEach(function(a){var b=a[0].toUpperCase()+a.substr(1);this.on(a+":before",c(this,"before"+b)),this.on(a,c(this,"on"+b)),this.on(a+":after",c(this,"after"+b))},this),this.on("stop",c(this,"onStop")),d.apply(this),this.initialize.apply(this,arguments)},initialize:function(){},render:function(){},mount:function(){var a,b=e.toArray(arguments);return this.stop(),this.trigger("mount:before",b),a=this._comp=this.autorun(function(a){this.trigger("render:before",a,b);var c=this.render.apply(this,b);d.isBinding(c)&&(c=[c]),Array.isArray(c)||(c=[]),this.trigger("render",c,a,b),c=c.map(this.appendChild,this),this.trigger("render:after",c,a,b),a.onInvalidate(function(){this.trigger("invalidate:before",c,a,b),c.forEach(this.removeChild,this),this.trigger("invalidate",a,b),this.trigger("invalidate:after",a,b),a.stopped&&(this.trigger("stop",b),delete this._comp)})}),this.trigger("mount",a,b),this.trigger("mount:after",a,b),this},isMounted:function(){return null!=this._comp},invalidate:function(){return this.isMounted()&&this._comp.invalidate(),this},stop:function(){return this.isMounted()&&this._comp.stop(),this}})},{"./binding":1,"./util":8}],8:[function(a,b,c){var d=c.toArray=function(a){return Array.prototype.slice.call(a,0)},e=c.has=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},f=c.extend=function(a){return d(arguments).slice(1).forEach(function(b){if(b)for(var c in b)a[c]=b[c]}),a},g=c.each=function(a,b,c){if(null==a)return a;if(a.forEach===Array.prototype.forEach)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;e>d;d++)b.call(c,a[d],d,a);else for(var f=Object.keys(a),d=0,e=f.length;e>d;d++)b.call(c,a[f[d]],f[d],a);return a},h=c.flatten=function(a,b){return null==b&&(b=[]),g(a,function(a){Array.isArray(a)?h(a,b):b.push(a)}),b};c.pick=function(a){return h(d(arguments).slice(1)).reduce(function(b,c){return b[c]=a[c],b},{})};var i=c.isObject=function(a){return a===Object(a)};c.uniqueId=function(){var a=0;return function(b){return(b||"")+ ++a}}(),c.subclass=function(a,b){var c,d=this;c=a&&e(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},f(c,d,b);var g=function(){this.constructor=c};return g.prototype=d.prototype,c.prototype=new g,a&&f(c.prototype,a),c.__super__=d.prototype,c},c.isNodeAtDOMPosition=function(a,b,c){return a.parentNode===b&&a.nextSibling===c};var j=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector;c.matchesSelector=function(a,b){return j.call(a,b)};var k=a("./deps"),l=c.defineReactiveProperty=function(a,b,c,d){function e(c){return k.nonreactive(function(){return d.call(a,c,b,a)})}if(!i(a))throw new Error("Expecting object to define the reactive property on.");if("string"!=typeof b)throw new Error("Expecting string for property name.");"function"==typeof c&&null==d&&(d=c,c=void 0),"function"!=typeof d&&(d=function(a){return a});var f=new k.Dependency;return c=e(c),Object.defineProperty(a,b,{configurable:!0,enumerable:!0,set:function(a){return a=e(a),a!==c&&(c=a,f.changed()),c},get:function(){return f.depend(),c}}),a};c.defineReactiveProperties=function(a,b,c){for(var d in b)l(a,d,b[d],c||!1);return a};var m=c.defineComputedProperty=function(a,b,c){if("function"!=typeof c)throw new Error("Expecting function for computed property value.");Object.defineProperty(a,b,{configurable:!0,enumerable:!0,get:function(){return c.call(a)}})};c.defineComputedProperties=function(a,b){Object.keys(b).forEach(function(c){m(a,c,b[c])})}},{"./deps":2}]},{},[5])(5)});